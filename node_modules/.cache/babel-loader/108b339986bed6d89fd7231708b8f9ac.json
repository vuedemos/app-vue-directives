{"remainingRequest":"/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/node_modules/babel-loader/lib/index.js!/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/node_modules/eslint-loader/index.js??ref--13-0!/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/src/main.js","dependencies":[{"path":"/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/src/main.js","mtime":1553320128821},{"path":"/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _Array$from from \"/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/node_modules/@babel/runtime-corejs2/core-js/array/from\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport App from './App.vue';\nVue.config.productionTip = false;\nVue.directive('lazyload', {\n  inserted: function inserted(el) {\n    function loadImage() {\n      var imageElement = _Array$from(el.children).find(function (el) {\n        return el.nodeName === 'IMG';\n      });\n\n      if (imageElement) {\n        imageElement.addEventListener('load', function () {\n          setTimeout(function () {\n            return el.classList.add('loaded');\n          }, 100);\n        });\n        imageElement.addEventListener('error', function () {\n          return console.log('error');\n        });\n        imageElement.src = imageElement.dataset.url;\n      }\n    }\n\n    function handleIntersect(entries, observer) {\n      entries.forEach(function (entry) {\n        if (!entry.isIntersecting) {\n          return;\n        } else {\n          loadImage();\n          observer.unobserve(el);\n        }\n      });\n    }\n\n    function createObserver() {\n      var options = {\n        root: null,\n        threshold: '0'\n      };\n      var observer = new IntersectionObserver(handleIntersect, options);\n      observer.observe(el);\n    }\n\n    if (!window['IntersectionObserver']) {\n      loadImage();\n    } else {\n      createObserver();\n    }\n  }\n});\nnew Vue({\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["/Users/damo/Sites/vue-app/vueDemos/app-vue-directives/src/main.js"],"names":["Vue","App","config","productionTip","directive","inserted","el","loadImage","imageElement","children","find","nodeName","addEventListener","setTimeout","classList","add","console","log","src","dataset","url","handleIntersect","entries","observer","forEach","entry","isIntersecting","unobserve","createObserver","options","root","threshold","IntersectionObserver","observe","window","render","h","$mount"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AAEAD,GAAG,CAACE,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAGAH,GAAG,CAACI,SAAJ,CAAc,UAAd,EAA0B;AACtBC,EAAAA,QAAQ,EAAE,kBAAAC,EAAE,EAAI;AACZ,aAASC,SAAT,GAAsB;AAClB,UAAMC,YAAY,GAAG,YAAWF,EAAE,CAACG,QAAd,EAAwBC,IAAxB,CAA6B,UAAAJ,EAAE;AAAA,eAAIA,EAAE,CAACK,QAAH,KAAgB,KAApB;AAAA,OAA/B,CAArB;;AAEA,UAAIH,YAAJ,EAAkB;AACdA,QAAAA,YAAY,CAACI,gBAAb,CAA8B,MAA9B,EAAsC,YAAM;AACxCC,UAAAA,UAAU,CAAC;AAAA,mBAAMP,EAAE,CAACQ,SAAH,CAAaC,GAAb,CAAiB,QAAjB,CAAN;AAAA,WAAD,EAAmC,GAAnC,CAAV;AACH,SAFD;AAGAP,QAAAA,YAAY,CAACI,gBAAb,CAA8B,OAA9B,EAAuC;AAAA,iBAAMI,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAN;AAAA,SAAvC;AACAT,QAAAA,YAAY,CAACU,GAAb,GAAmBV,YAAY,CAACW,OAAb,CAAqBC,GAAxC;AACH;AACJ;;AAED,aAASC,eAAT,CAA0BC,OAA1B,EAAmCC,QAAnC,EAA6C;AACzCD,MAAAA,OAAO,CAACE,OAAR,CAAgB,UAAAC,KAAK,EAAI;AACrB,YAAI,CAACA,KAAK,CAACC,cAAX,EAA2B;AACvB;AACH,SAFD,MAEO;AACHnB,UAAAA,SAAS;AACTgB,UAAAA,QAAQ,CAACI,SAAT,CAAmBrB,EAAnB;AACH;AACJ,OAPD;AAQH;;AAED,aAASsB,cAAT,GAA2B;AACvB,UAAMC,OAAO,GAAG;AACZC,QAAAA,IAAI,EAAE,IADM;AAEZC,QAAAA,SAAS,EAAE;AAFC,OAAhB;AAKA,UAAMR,QAAQ,GAAG,IAAIS,oBAAJ,CAAyBX,eAAzB,EAA0CQ,OAA1C,CAAjB;AAEAN,MAAAA,QAAQ,CAACU,OAAT,CAAiB3B,EAAjB;AACH;;AAED,QAAI,CAAC4B,MAAM,CAAC,sBAAD,CAAX,EAAqC;AACjC3B,MAAAA,SAAS;AACZ,KAFD,MAEO;AACHqB,MAAAA,cAAc;AACjB;AACJ;AAzCqB,CAA1B;AA4CA,IAAI5B,GAAJ,CAAQ;AACNmC,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACnC,GAAD,CAAL;AAAA;AADH,CAAR,EAEGoC,MAFH,CAEU,MAFV","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\n\nVue.directive('lazyload', {\n    inserted: el => {\n        function loadImage () {\n            const imageElement = Array.from(el.children).find(el => el.nodeName === 'IMG')\n\n            if (imageElement) {\n                imageElement.addEventListener('load', () => {\n                    setTimeout(() => el.classList.add('loaded'), 100)\n                })\n                imageElement.addEventListener('error', () => console.log('error'))\n                imageElement.src = imageElement.dataset.url\n            }\n        }\n\n        function handleIntersect (entries, observer) {\n            entries.forEach(entry => {\n                if (!entry.isIntersecting) {\n                    return\n                } else {\n                    loadImage()\n                    observer.unobserve(el)\n                }\n            })\n        }\n\n        function createObserver () {\n            const options = {\n                root: null,\n                threshold: '0'\n            }\n\n            const observer = new IntersectionObserver(handleIntersect, options)\n\n            observer.observe(el)\n        }\n\n        if (!window['IntersectionObserver']) {\n            loadImage()\n        } else {\n            createObserver()\n        }\n    }\n})\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"]}]}